{% extends 'base.html.twig' %}

{% block title %}Products{% endblock %}
{% block body %}
	<div class="container col-md-12" style="padding: 20px;">
		<div class="card">

		    <div class="card-header">Products</div>
		    {% for message in app.flashes('success') %}
	            <div class="alert alert-success" role="alert">
	                {{ message }}
	                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
				    	<span aria-hidden="true">&times;</span>
				  	</button>
	            </div>
	        {% endfor %}
		    <div class="col-md-4" style="padding: 20px;">
		    	<a href="{{ path('product_new') }}"  class="btn btn-success btn-sm">New</a>
		    </div>
		    
		    <div class="card-body">
		    	
		    	<div class="table-responsive">
	                <table class="table mb-0">
	                    <thead>
	                        <tr>
	                            <th>Name</th>
	                            <th>Code</th>
	                            <th>Brand</th>
	                            <th>Category</th>
	                            <th></th>
	                        </tr>
	                    </thead>
	                    <tbody>
	                         {% for product in products %}
	                            <tr>
	                                <td>
	                                    {{product.name}}
	                                </td>
	                                
	                                <td>
	                                    {{product.code}}
	                                </td>

	                                <td>
	                                    {{product.brand}}
	                                </td>

	                                <td>
	                                    {{product.Category.name}}
	                                </td>
	                               
	                             	<td>
	                                    <a class='btn btn-warning' href="{{ path('product_edit', {id: product.id}) }}"> Updated </a>
	                                     <a class='btn btn-success' href="{{ path('product_show', {id: product.id}) }}"> Show </a>
	                                    <a class='btn btn-danger' href="{{ path('product_delete', {id: product.id}) }}" onclick="return confirm('Are you sure you want to delete this item?');"> Delete </a>
	                                   
	                                </td> 
	                            </tr>
	                        {% endfor %}
	                    </tbody>
	                </table>
	            </div>
		    </div>
		</div>
	</div>
{% endblock %}